import React, { Fragment } from 'react';
import { unstable_noStore as noStore } from 'next/cache';
import { FadeIn, FadeInStagger } from '@/components/animations/FadeIn';
import { Articles } from '@/components/blog/Articles';
import { AnimatedNameLink } from '@/components/text/AnimatedName.tsx';
import { getAllArticles } from '@/lib/articles';

export const metadata = {
    title: 'Tous mes articles de blog',
    alternates: {
        canonical: '/blog',
    },
};

export const Blog = async () => {
    noStore();
    const articles = await getAllArticles();

    return (
        <Fragment>
            <FadeIn>
                <span className="font-bold text-theme">
                    {articles.length} articles
                </span>{' '}
                pour l'instant.{' '}
                <span className="font-bold">Restez branch√©s pour la suite !</span>
            </FadeIn>

            <FadeIn>
                <div className="mt-10">
                    <Articles articles={articles} isBlog />
                </div>
            </FadeIn>
        </Fragment>
    )
};

# {metadata.title}
<AnimatedNameLink />

<FadeInStagger className="mt-10" faster>
    <Blog />
</FadeInStagger>
