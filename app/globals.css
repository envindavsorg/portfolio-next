@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

:root {
	--theme: hsl(24, 90%, 47%);
	--background: hsl(0, 0%, 98%);
	--foreground: hsl(0, 0%, 0%);
	--border: hsl(0, 0%, 90%);
	--code: hsl(225, 77%, 5%);
	--primary: hsl(240, 5%, 11%);
	--primary-foreground: hsl(0, 0%, 98%);
	--secondary: hsl(240, 4%, 96%);
	--secondary-foreground: hsl(240, 5%, 11%);
	--muted: hsl(240, 4%, 96%);
	--muted-foreground: hsl(240, 3%, 46%);
	--accent: hsl(240, 4%, 96%);
	--accent-foreground: hsl(240, 5%, 11%);
	--destructive: hsl(0, 76%, 51%);
	--destructive-foreground: hsl(0, 0%, 98%);
	/* radius */
	--radius: 0.5rem;
	/* shiki */
	--sh-class: hsl(220, 90%, 71%);
	--sh-sign: hsl(195, 100%, 78%);
	--sh-string: hsl(93, 47%, 64%);
	--sh-keyword: hsl(255, 66%, 76%);
	--sh-comment: hsl(225, 22%, 45%);
	--sh-jsxliterals: hsl(220, 90%, 71%);
	--sh-property: hsl(170, 61%, 64%);
	--sh-entity: hsl(32, 67%, 66%);
}

@theme inline {
	--font-sans: var(--font-geist-sans);
	--font-mono: var(--font-geist-mono);

	--color-theme: var(--theme);
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-border: var(--border);
	--color-code: var(--code);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-destructive-foreground: var(--destructive-foreground);
	/* Rayon de bordure */
	--radius: var(--radius);
	/* Styles Shiki */
	--sh-class: var(--sh-class);
	--sh-sign: var(--sh-sign);
	--sh-string: var(--sh-string);
	--sh-keyword: var(--sh-keyword);
	--sh-comment: var(--sh-comment);
	--sh-jsxliterals: var(--sh-jsxliterals);
	--sh-property: var(--sh-property);
	--sh-entity: var(--sh-entity);

	--breakpoint-2xl: 1400px;
}

.dark {
	--theme: hsl(51, 97%, 64%);
	--background: hsl(0, 0%, 0%);
	--foreground: hsl(0, 0%, 98%);
	--border: hsl(0, 0%, 25%);
	--code: hsl(222, 56%, 12%);
	--primary: hsl(0, 0%, 98%);
	--primary-foreground: hsl(240, 5%, 11%);
	--secondary: hsl(240, 3%, 15%);
	--secondary-foreground: hsl(0, 0%, 98%);
	--muted: hsl(240, 3%, 15%);
	--muted-foreground: hsl(240, 4%, 65%);
	--accent: hsl(240, 3%, 15%);
	--accent-foreground: hsl(0, 0%, 98%);
	--destructive: hsl(0, 89%, 80%);
	--destructive-foreground: hsl(0, 0%, 98%);
}

@utility container {
	margin-inline: auto;
	padding-inline: 1rem;
}

@utility scrollbar-hide {
	-ms-overflow-style: none;
	scrollbar-width: none;

	&::-webkit-scrollbar {
		display: none;
	}
}

@utility card-border {
	&::before {
		@apply pointer-events-none absolute inset-0 rounded-xl content-[''] dark:bg-gradient-to-b dark:from-neutral-200/50 dark:to-transparent dark:mix-blend-soft-light;
		padding: 1px;
		mask:
			linear-gradient(#ffffff, #ffffff) content-box,
			linear-gradient(#ffffff, #ffffff);
		mask-composite: exclude;
	}
}

@layer utilities {
	::selection {
		@apply text-white dark:text-black bg-theme;
	}

	.scrollbar-hide {
		-ms-overflow-style: none;
		scrollbar-width: none;
	}

	.scrollbar-hide::-webkit-scrollbar {
		display: none;
	}
}

html {
	min-width: 360px;
}

body {
	height: 100vh;
	text-rendering: optimizeLegibility;
}

@supports (-webkit-touch-callout: none) {
	body {
		/*noinspection CssInvalidPropertyValue*/
		height: -webkit-fill-available;
	}
}

/* header */
h1,
h2,
h3,
h4 {
	text-wrap: balance;
}

/* list */
@media (hover: hover) {
	.animated-list:hover li {
		opacity: 0.5;
	}

	.animated-list:hover li:hover {
		opacity: 1;
	}
}

ul {
	@apply mt-4 list-disc space-y-1 pl-5 text-foreground;
}

ol {
	@apply mt-4 list-decimal space-y-2 pl-5 text-foreground;
}

li {
	@apply pl-1;
}

/* code */
pre {
	overflow-x: auto;
	padding: 1rem;
	margin: 1.5rem 0;
	line-height: 1;

	@apply bg-border bg-[#16161e] rounded-md scrollbar-hide;
}

pre::-webkit-scrollbar {
	display: none;
}

pre {
	-ms-overflow-style: none;
	scrollbar-width: none;
}

code {
	@apply bg-border rounded-md p-1 text-base;
}

pre code {
	background-color: transparent;
	padding: 0;
	border: none;
	font-size: 14px;
	line-height: 1.5;
}

pre code > span .sh__token--identifier {
	color: #ffffff !important;
}

code:not(pre code) span {
	font-weight: 500;
	color: #000000 !important;
}

pre code span {
	font-weight: 500;
}

/* input */
input[type="text"],
input[type="email"] {
	-webkit-appearance: none;
	appearance: none;
}

/* transition */
:root {
	--translate-y: 24px;
}

.transition-element {
	view-transition-name: florin;
}

::view-transition-old(florin) {
	animation: fade-out 0.8s ease-in-out;
}

::view-transition-new(florin) {
	animation: fade-in-up 0.4s ease-in-out;
}

@keyframes fade-out {
	0% {
		transform: translateY(0) translateX(-0.2px);
		opacity: 1;
		font-weight: 500;
	}
	20% {
		transform: translateY(var(--translate-y)) translateX(-0.2px);
		opacity: 0.5;
	}
	40% {
		transform: translateY(var(--translate-y)) translateX(-0.2px);
		opacity: 0.3;
	}
	60% {
		transform: translateY(var(--translate-y)) translateX(-0.2px);
		opacity: 0.2;
	}
	100% {
		transform: translateY(var(--translate-y)) translateX(-0.2px);
		opacity: 0;
	}
}

@keyframes fade-in {
	0% {
		opacity: 0;
	}
	40% {
		opacity: 0.6;
	}
	60% {
		opacity: 0.8;
	}
	100% {
		opacity: 1;
	}
}

@keyframes fade-in-up {
	0% {
		transform: translateY(var(--translate-y)) translateX(-0.2px);
		opacity: 0;
	}
	20% {
		transform: translateY(var(--translate-y)) translateX(-0.2px);
		opacity: 0.5;
	}
	80% {
		transform: translateY(0) translateX(-0.2px);
		opacity: 0.7;
	}
	100% {
		transform: translateY(0) translateX(-0.2px);
		opacity: 1;
	}
}

@supports (view-transition-name: none) {
	.fade-in {
		animation: fade-in 0.8s ease-in-out forwards;
		opacity: 0;
	}
}
